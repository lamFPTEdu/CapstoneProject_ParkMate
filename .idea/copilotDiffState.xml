<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/HUONG_DAN_NAP_TIEN.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/HUONG_DAN_NAP_TIEN.md" />
              <option name="updatedContent" value="# Hướng dẫn sử dụng chức năng Nạp tiền (Top-Up Wallet)&#10;&#10;## Tổng quan&#10;Chức năng nạp tiền cho phép người dùng nạp tiền vào ví ParkMate thông qua thanh toán QR PayOS.&#10;&#10;## Các file đã tạo/chỉnh sửa&#10;&#10;### 1. Models (package: com.parkmate.android.model)&#10;- **Payment.java**: Model chứa thông tin thanh toán (QR code, số tài khoản, số tiền, mã đơn hàng...)&#10;- **PaymentStatus.java**: Model trạng thái thanh toán (orderCode, transactionStatus, amount)&#10;- **PaymentCancel.java**: Model hủy thanh toán (message, orderCode, reason)&#10;&#10;### 2. Repository (package: com.parkmate.android.repository)&#10;- **PaymentRepository.java**: Repository xử lý các API thanh toán&#10;  - `createPayment(long amount)`: Tạo mã QR thanh toán&#10;  - `cancelPayment(long orderCode, String reason)`: Hủy giao dịch&#10;  - `checkPaymentStatus(long orderCode)`: Kiểm tra trạng thái thanh toán&#10;&#10;### 3. API Service (com.parkmate.android.network.ApiService)&#10;Đã thêm 3 endpoints:&#10;```java&#10;@POST(&quot;/api/v1/payment-service/payos/payment&quot;)&#10;Single&lt;ApiResponse&lt;Payment&gt;&gt; createPayment(@Query(&quot;amount&quot;) long amount);&#10;&#10;@PUT(&quot;/api/v1/payment-service/payos/cancel&quot;)&#10;Single&lt;ApiResponse&lt;PaymentCancel&gt;&gt; cancelPayment(@Query(&quot;orderCode&quot;) long orderCode, @Query(&quot;reason&quot;) String reason);&#10;&#10;@GET(&quot;/api/v1/payment-service/payos/status/{orderCode}&quot;)&#10;Single&lt;ApiResponse&lt;PaymentStatus&gt;&gt; checkPaymentStatus(@Path(&quot;orderCode&quot;) long orderCode);&#10;```&#10;&#10;### 4. Activity (com.parkmate.android.activity)&#10;- **TopUpActivity.java**: Activity chính cho chức năng nạp tiền&#10;- **WalletActivity.java**: Đã cập nhật để mở TopUpActivity&#10;&#10;### 5. Layout&#10;- **activity_top_up.xml**: Layout cho màn hình nạp tiền&#10;  - Section nhập số tiền với các nút gợi ý (10k, 50k, 100k, 200k, 500k, 1M)&#10;  - Section hiển thị QR code và thông tin thanh toán&#10;  - Cảnh báo về việc nhập đúng thông tin khi chuyển khoản thủ công&#10;&#10;### 6. Resources&#10;- **ic_attach_money_24.xml**: Icon tiền tệ&#10;- **ic_warning_24.xml**: Icon cảnh báo&#10;&#10;### 7. AndroidManifest.xml&#10;Đã thêm TopUpActivity vào manifest&#10;&#10;## Luồng hoạt động&#10;&#10;### 1. Nhập số tiền&#10;- Người dùng nhập số tiền hoặc chọn số tiền gợi ý&#10;- Validation: Số tiền tối thiểu là 1,000 VNĐ&#10;- Khi số tiền hợp lệ, nút &quot;Tạo mã QR&quot; sẽ được kích hoạt&#10;&#10;### 2. Tạo mã QR&#10;- Click &quot;Tạo mã QR&quot;&#10;- Gọi API: `POST /api/v1/payment-service/payos/payment?amount={amount}`&#10;- Response trả về:&#10;  - QR code (base64) - Được decode và hiển thị&#10;  - Thông tin tài khoản (số TK, tên TK)&#10;  - Số tiền&#10;  - Nội dung chuyển khoản (description)&#10;  - Order code để tracking&#10;&#10;### 3. Thanh toán&#10;Người dùng có 2 cách:&#10;- **Quét QR code**: Sử dụng app ngân hàng quét mã&#10;- **Chuyển khoản thủ công**: Nhập thông tin theo hướng dẫn&#10;&#10;**LƯU Ý QUAN TRỌNG** được hiển thị:&#10;```&#10;⚠️ LƯU Ý QUAN TRỌNG:&#10;&#10;Nếu bạn chuyển khoản thủ công (không quét QR), &#10;vui lòng nhập CHÍNH XÁC các thông tin sau:&#10;&#10;• Số tiền: {amount}đ&#10;• Nội dung: {description}&#10;&#10;Nếu sai thông tin, giao dịch sẽ KHÔNG THÀNH CÔNG!&#10;```&#10;&#10;### 4. Hủy giao dịch&#10;- Click nút &quot;Hủy&quot;&#10;- Gọi API: `PUT /api/v1/payment-service/payos/cancel?orderCode={orderCode}&amp;reason={reason}`&#10;- Hiển thị thông báo và đóng màn hình&#10;&#10;### 5. Xác nhận đã chuyển khoản&#10;- Sau khi chuyển khoản thành công ở app ngân hàng&#10;- Quay lại ParkMate app&#10;- Click &quot;Đã chuyển khoản&quot;&#10;- Gọi API: `GET /api/v1/payment-service/payos/status/{orderCode}`&#10;- Kiểm tra trạng thái:&#10;  - **COMPLETED**: Thành công → Hiển thị thông báo, refresh wallet, đóng màn hình&#10;  - **CANCELLED**: Đã hủy → Hiển thị lỗi&#10;  - **PENDING**: Đang chờ → Hiển thị thông báo đợi&#10;&#10;### 6. Cập nhật số dư ví&#10;- Sau khi nạp tiền thành công (COMPLETED)&#10;- TopUpActivity trả về RESULT_OK&#10;- WalletActivity nhận kết quả trong `onActivityResult()`&#10;- Tự động reload thông tin ví để cập nhật số dư mới&#10;&#10;## Các trạng thái thanh toán&#10;- **PENDING**: Đang chờ xử lý&#10;- **COMPLETED**: Hoàn thành&#10;- **CANCELLED**: Đã hủy&#10;&#10;## Xử lý lỗi&#10;- Kiểm tra kết nối mạng&#10;- Hiển thị thông báo lỗi chi tiết từ API&#10;- Fallback message nếu không có error message từ server&#10;&#10;## Testing checklist&#10;- [ ] Nhập số tiền &lt; 1000 → Hiển thị lỗi validation&#10;- [ ] Nhập số tiền hợp lệ → Nút &quot;Tạo mã QR&quot; enabled&#10;- [ ] Click các nút gợi ý số tiền → Tự động điền vào ô input&#10;- [ ] Tạo QR thành công → Hiển thị QR code và thông tin&#10;- [ ] QR code base64 decode đúng → Hiển thị hình ảnh QR&#10;- [ ] Click &quot;Hủy&quot; → Hủy giao dịch và đóng màn hình&#10;- [ ] Click &quot;Đã chuyển khoản&quot; khi chưa thanh toán → Status PENDING&#10;- [ ] Click &quot;Đã chuyển khoản&quot; sau khi thanh toán → Status COMPLETED&#10;- [ ] Nạp tiền thành công → Số dư ví được cập nhật&#10;&#10;## Lưu ý kỹ thuật&#10;1. **QR Code**: Base64 string từ API được decode thành Bitmap để hiển thị&#10;2. **Currency Format**: Sử dụng `NumberFormat.getCurrencyInstance(new Locale(&quot;vi&quot;, &quot;VN&quot;))` để format tiền tệ&#10;3. **RxJava**: Sử dụng RxJava3 cho async operations&#10;4. **Memory Management**: Clear CompositeDisposable trong onDestroy()&#10;5. **Deprecated API**: `startActivityForResult` đã deprecated nhưng vẫn hoạt động, có thể migrate sang Activity Result API sau&#10;&#10;## API Endpoints Summary&#10;| Method | Endpoint | Purpose |&#10;|--------|----------|---------|&#10;| POST | `/api/v1/payment-service/payos/payment` | Tạo mã thanh toán |&#10;| PUT | `/api/v1/payment-service/payos/cancel` | Hủy thanh toán |&#10;| GET | `/api/v1/payment-service/payos/status/{orderCode}` | Kiểm tra trạng thái |&#10;&#10;## Màn hình liên quan&#10;- **WalletActivity**: Màn hình ví chính, có nút &quot;Nạp tiền&quot;&#10;- **TopUpActivity**: Màn hình nạp tiền&#10;&#10;## Future improvements&#10;- [ ] Thêm animation khi switch giữa input section và QR section&#10;- [ ] Thêm timer countdown cho QR code expiration&#10;- [ ] Lưu lịch sử nạp tiền&#10;- [ ] Hỗ trợ nhiều phương thức thanh toán khác&#10;- [ ] Auto-refresh trạng thái thanh toán (polling hoặc websocket)&#10;- [ ] Migrate từ `startActivityForResult` sang Activity Result API&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/SUBSCRIPTION_STATUS_IMPLEMENTATION.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/SUBSCRIPTION_STATUS_IMPLEMENTATION.md" />
              <option name="updatedContent" value="# User Subscription Status Implementation&#10;&#10;## Summary&#10;Updated the user subscription list to properly display all subscription statuses with Vietnamese labels and appropriate colors.&#10;&#10;## Status Mapping&#10;&#10;### API Status → Display Label → Color&#10;1. **PENDING_PAYMENT** → &quot;Chờ thanh toán&quot; → Orange (#F59E0B)&#10;2. **ACTIVE** → &quot;Đang trong bãi&quot; → Green (#10B981)  &#10;3. **INACTIVE** → &quot;Ngoài bãi&quot; → Gray (#6B7280)&#10;4. **EXPIRED** → &quot;Hết hạn&quot; → Dark Gray (#6B7280)&#10;5. **CANCELLED** → &quot;Đã hủy&quot; → Red (#EF4444)&#10;&#10;## Files Created&#10;&#10;### 1. bg_status_pending.xml&#10;- Orange background for &quot;Chờ thanh toán&quot; status&#10;- Color: #F59E0B&#10;&#10;### 2. bg_status_expired.xml  &#10;- Gray background for &quot;Hết hạn&quot; status&#10;- Color: #6B7280&#10;&#10;### 3. bg_status_cancelled.xml&#10;- Red background for &quot;Đã hủy&quot; status&#10;- Color: #EF4444&#10;&#10;## Files Modified&#10;&#10;### UserSubscriptionAdapter.java&#10;&#10;#### Changes:&#10;1. Added `getStatusDisplay()` method to convert API status to Vietnamese labels&#10;2. Updated `setStatusBackground()` to handle all 5 status types with appropriate colors&#10;3. Updated `bind()` method to:&#10;   - Use `getStatusDisplay()` for Vietnamese labels&#10;   - Show &quot;Còn X ngày&quot; for both ACTIVE and INACTIVE subscriptions&#10;   - Hide days remaining for EXPIRED, CANCELLED, and PENDING_PAYMENT&#10;&#10;## Features&#10;&#10;### Days Remaining Display&#10;- Shows for: ACTIVE and INACTIVE subscriptions with remaining days &gt; 0&#10;- Hidden for: EXPIRED, CANCELLED, PENDING_PAYMENT&#10;&#10;### Status Colors Explanation&#10;- **Orange (Pending Payment)**: Waiting for user to complete payment&#10;- **Green (Active)**: Vehicle is currently parked in the lot&#10;- **Gray (Inactive)**: Valid subscription but vehicle is outside the lot&#10;- **Dark Gray (Expired)**: Subscription period has ended&#10;- **Red (Cancelled)**: User or system has cancelled the subscription&#10;&#10;## Usage in UserSubscriptionListActivity&#10;The adapter automatically handles status display when subscriptions are loaded from the API.&#10;No additional code changes needed in the activity.&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/TRANSACTION_HISTORY_FULL_FEATURE.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/TRANSACTION_HISTORY_FULL_FEATURE.md" />
              <option name="updatedContent" value="# Transaction History Feature - Full Implementation&#10;&#10;## Tổng quan&#10;Đã tách lịch sử giao dịch thành 2 màn hình:&#10;1. **WalletActivity**: Hiển thị 3 giao dịch gần nhất (preview)&#10;2. **TransactionHistoryActivity**: Hiển thị tất cả giao dịch với infinite scroll và filter&#10;&#10;## Files mới tạo&#10;&#10;### 1. TransactionHistoryActivity.java&#10;Full-screen activity hiển thị toàn bộ lịch sử giao dịch với các tính năng:&#10;&#10;#### Infinite Scroll&#10;- Load 10 items mỗi trang&#10;- Tự động load thêm khi scroll đến cuối danh sách&#10;- Progress bar &quot;Load more&quot; ở cuối danh sách&#10;- Detect khi đã hết dữ liệu (isLastPage)&#10;&#10;#### Filter&#10;- **Tất cả**: Hiển thị tất cả giao dịch&#10;- **Nạp tiền**: Chỉ hiển thị TOP_UP transactions&#10;- **Thanh toán**: Chỉ hiển thị PAYMENT transactions&#10;&#10;#### Pagination State&#10;```java&#10;private int currentPage = 0;&#10;private boolean isLoading = false;&#10;private boolean isLastPage = false;&#10;private String currentFilter = &quot;ALL&quot;;&#10;```&#10;&#10;### 2. activity_transaction_history.xml&#10;Layout bao gồm:&#10;- **Header**: Back button + Title&#10;- **Filter Chips**: Horizontal scroll với 3 options&#10;- **RecyclerView**: Danh sách giao dịch&#10;- **Progress Bars**: Initial load + Load more&#10;- **Empty State**: Khi không có dữ liệu&#10;&#10;## Files đã chỉnh sửa&#10;&#10;### 1. WalletActivity.java&#10;&#10;#### Thay đổi load transactions&#10;```java&#10;// Trước: Load 10 items&#10;walletRepository.getTransactions(0, 10, &quot;createdAt&quot;, &quot;desc&quot;)&#10;&#10;// Sau: Load 3 items (preview)&#10;walletRepository.getTransactions(0, 3, &quot;createdAt&quot;, &quot;desc&quot;)&#10;```&#10;&#10;#### Thêm click listeners&#10;```java&#10;// Icon lịch sử (toolbar)&#10;ivHistory.setOnClickListener(v -&gt; openTransactionHistory());&#10;&#10;// Nút &quot;Xem tất cả&quot;&#10;tvViewAll.setOnClickListener(v -&gt; openTransactionHistory());&#10;&#10;private void openTransactionHistory() {&#10;    Intent intent = new Intent(this, TransactionHistoryActivity.class);&#10;    startActivity(intent);&#10;}&#10;```&#10;&#10;### 2. AndroidManifest.xml&#10;Đăng ký TransactionHistoryActivity&#10;&#10;## Flow hoạt động&#10;&#10;### WalletActivity (Preview)&#10;1. Load 3 giao dịch gần nhất&#10;2. Hiển thị nút &quot;Xem tất cả&quot;&#10;3. Click → Navigate to TransactionHistoryActivity&#10;&#10;### TransactionHistoryActivity (Full View)&#10;&#10;#### Initial Load&#10;1. User mở activity&#10;2. Load page 0 với 10 items&#10;3. Hiển thị progress bar&#10;4. Bind data vào RecyclerView&#10;5. Ẩn progress bar&#10;&#10;#### Infinite Scroll&#10;1. User scroll xuống cuối&#10;2. Detect: `visibleItems + firstVisiblePosition &gt;= totalItems`&#10;3. Check: `!isLoading &amp;&amp; !isLastPage`&#10;4. Tăng `currentPage++`&#10;5. Load page tiếp theo&#10;6. Hiển thị progressBarLoadMore&#10;7. Append data vào adapter&#10;8. Ẩn progressBarLoadMore&#10;&#10;#### Filter Change&#10;1. User chọn chip (Tất cả / Nạp tiền / Thanh toán)&#10;2. Reset pagination: `currentPage = 0, isLastPage = false`&#10;3. Clear current list&#10;4. Load lại từ page 0 với filter mới&#10;5. Filter local trong `filterTransactions()`&#10;&#10;## API Integration&#10;&#10;### Endpoint&#10;```&#10;GET /api/v1/payment-service/transactions&#10;```&#10;&#10;### Parameters&#10;- `page`: Current page (0-based)&#10;- `size`: Items per page (10)&#10;- `sortBy`: &quot;createdAt&quot;&#10;- `sortOrder`: &quot;desc&quot;&#10;- `criteria`: `{&quot;ownedByMe&quot;:true}`&#10;&#10;### Response&#10;```json&#10;{&#10;  &quot;data&quot;: {&#10;    &quot;content&quot;: [...],&#10;    &quot;totalPages&quot;: 5,&#10;    &quot;totalElements&quot;: 47,&#10;    &quot;last&quot;: false,&#10;    &quot;first&quot;: true,&#10;    &quot;number&quot;: 0&#10;  }&#10;}&#10;```&#10;&#10;## Filter Implementation&#10;&#10;### Current Approach (Local Filter)&#10;```java&#10;private List&lt;Transaction&gt; filterTransactions(List&lt;Transaction&gt; transactions) {&#10;    if (&quot;ALL&quot;.equals(currentFilter)) {&#10;        return transactions;&#10;    }&#10;    &#10;    List&lt;Transaction&gt; filtered = new ArrayList&lt;&gt;();&#10;    for (Transaction transaction : transactions) {&#10;        if (currentFilter.equals(transaction.getTransactionType())) {&#10;            filtered.add(transaction);&#10;        }&#10;    }&#10;    return filtered;&#10;}&#10;```&#10;&#10;### Future: Server-side Filter&#10;Có thể thêm `transactionType` vào criteria:&#10;```java&#10;String criteria = String.format(&quot;{\&quot;ownedByMe\&quot;:true,\&quot;transactionType\&quot;:\&quot;%s\&quot;}&quot;, currentFilter);&#10;```&#10;&#10;## UI/UX Features&#10;&#10;### Filter Chips&#10;- Material Design 3 Chip Filter style&#10;- Single selection&#10;- Checked state với primary color&#10;- Smooth horizontal scroll&#10;&#10;### Progress Indicators&#10;- **Initial Load**: Center progress bar&#10;- **Load More**: Bottom progress bar&#10;- Auto hide khi load xong&#10;&#10;### Empty State&#10;- Icon với alpha 0.3&#10;- Title: &quot;Chưa có giao dịch&quot;&#10;- Description: Hướng dẫn user&#10;&#10;### Infinite Scroll&#10;- Seamless loading&#10;- No &quot;Load More&quot; button needed&#10;- Auto detect when near bottom&#10;&#10;## Testing Checklist&#10;&#10;### WalletActivity&#10;- [ ] Hiển thị đúng 3 giao dịch gần nhất&#10;- [ ] Nút &quot;Xem tất cả&quot; hoạt động&#10;- [ ] Icon lịch sử ở toolbar hoạt động&#10;&#10;### TransactionHistoryActivity&#10;- [ ] Load trang đầu thành công&#10;- [ ] Infinite scroll load thêm data&#10;- [ ] Progress bar hiển thị đúng lúc&#10;- [ ] Filter &quot;Tất cả&quot; hiển thị tất cả&#10;- [ ] Filter &quot;Nạp tiền&quot; chỉ hiển thị TOP_UP&#10;- [ ] Filter &quot;Thanh toán&quot; chỉ hiển thị PAYMENT&#10;- [ ] Empty state khi không có data&#10;- [ ] Dừng load khi đã hết data (isLastPage)&#10;- [ ] Back button hoạt động&#10;&#10;## Performance Optimization&#10;&#10;### Pagination&#10;- Load 10 items/page thay vì tất cả&#10;- Giảm memory usage&#10;- Faster initial load&#10;&#10;### RecyclerView&#10;- ViewHolder pattern&#10;- Item reuse&#10;- Smooth scrolling&#10;&#10;### Network&#10;- Load on demand&#10;- Cancel requests khi destroy&#10;- CompositeDisposable cleanup&#10;&#10;## Future Improvements&#10;&#10;### Search&#10;- [ ] Thêm search bar&#10;- [ ] Search by description&#10;- [ ] Search by amount range&#10;&#10;### Date Filter&#10;- [ ] Filter theo khoảng thời gian&#10;- [ ] Hôm nay / Tuần này / Tháng này&#10;- [ ] Custom date range picker&#10;&#10;### Sort Options&#10;- [ ] Sort by amount&#10;- [ ] Sort by status&#10;- [ ] Ascending / Descending&#10;&#10;### Export&#10;- [ ] Export to PDF&#10;- [ ] Export to Excel&#10;- [ ] Share via email&#10;&#10;### Pull to Refresh&#10;- [ ] SwipeRefreshLayout&#10;- [ ] Refresh latest transactions&#10;&#10;### Server-side Filter&#10;- [ ] Move filter logic to API&#10;- [ ] Better performance&#10;- [ ] Accurate pagination count&#10;&#10;## Code Structure&#10;&#10;```&#10;TransactionHistoryActivity&#10;├── Initialization&#10;│   ├── Repository &amp; Disposable&#10;│   ├── Views binding&#10;│   └── RecyclerView setup&#10;├── Infinite Scroll Listener&#10;│   ├── Scroll detection&#10;│   ├── Load more trigger&#10;│   └── Pagination logic&#10;├── Filter Logic&#10;│   ├── Chip selection&#10;│   ├── Reset pagination&#10;│   └── Local filtering&#10;└── Lifecycle&#10;    ├── onCreate&#10;    ├── loadTransactions&#10;    └── onDestroy (cleanup)&#10;```&#10;&#10;## Summary&#10;✅ WalletActivity: 3 items preview&#10;✅ TransactionHistoryActivity: Full list&#10;✅ Infinite scroll pagination&#10;✅ Filter by transaction type&#10;✅ Empty state handling&#10;✅ Progress indicators&#10;✅ Clean architecture&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/activity/ParkingDetailActivity.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/activity/ParkingDetailActivity.java" />
              <option name="updatedContent" value="package com.parkmate.android.activity;&#10;&#10;import android.os.Bundle;&#10;&#10;import com.parkmate.android.R;&#10;&#10;public class ParkingDetailActivity extends BaseActivity {&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        &#10;        // Thiết lập toolbar với nút quay lại (vì đây KHÔNG phải màn hình chính)&#10;        setupToolbar(false, &quot;Chi tiết bãi đỗ xe&quot;);&#10;        &#10;        // Ẩn bottom navigation vì đây là màn hình chi tiết&#10;        setupBottomNavigation(false, 0);&#10;        &#10;        // Khởi tạo các thành phần của màn hình chi tiết&#10;        initComponents();&#10;    }&#10;&#10;    @Override&#10;    protected int getLayoutResourceId() {&#10;        // Trả về ID layout của ParkingDetailActivity&#10;        return R.layout.activity_parking_detail;&#10;    }&#10;    &#10;    private void initComponents() {&#10;        // Khởi tạo các thành phần và xử lý sự kiện&#10;        // VD: Hiển thị thông tin chi tiết bãi đỗ xe, đặt chỗ, thanh toán...&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/activity/RegisterActivity.java.fixed">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/activity/RegisterActivity.java.fixed" />
              <option name="updatedContent" value="package com.parkmate.android.activity;&#10;&#10;import android.app.DatePickerDialog;&#10;import android.content.Intent;&#10;import android.net.Uri;&#10;import android.os.Bundle;&#10;import android.provider.MediaStore;&#10;import android.text.Editable;&#10;import android.text.SpannableString;&#10;import android.text.Spanned;&#10;import android.text.TextWatcher;&#10;import android.text.method.LinkMovementMethod;&#10;import android.text.style.ClickableSpan;&#10;import android.text.style.ForegroundColorSpan;&#10;import android.util.Log;&#10;import android.view.View;&#10;import android.widget.ArrayAdapter;&#10;import android.widget.AutoCompleteTextView;&#10;import android.widget.Button;&#10;import android.widget.CheckBox;&#10;import android.widget.EditText;&#10;import android.widget.FrameLayout;&#10;import android.widget.ImageView;&#10;import android.widget.LinearLayout;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;import android.widget.ViewFlipper;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.activity.result.ActivityResultLauncher;&#10;import androidx.activity.result.contract.ActivityResultContracts;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;import com.google.android.material.button.MaterialButton;&#10;import com.google.android.material.textfield.TextInputEditText;&#10;import com.google.android.material.textfield.TextInputLayout;&#10;import com.parkmate.android.R;&#10;&#10;import java.text.SimpleDateFormat;&#10;import java.util.Calendar;&#10;import java.util.Locale;&#10;&#10;public class RegisterActivity extends AppCompatActivity {&#10;&#10;    private static final String TAG = &quot;RegisterActivity&quot;;&#10;&#10;    private ViewFlipper viewFlipper;&#10;    private TextInputEditText etFullName, etEmail, etPassword, etConfirmPassword;&#10;    private TextInputEditText etCccdNumber, etIdFullName, etDateOfBirth, etIssueDate, etIssuePlace;&#10;    private TextInputEditText etNationality, etPermanentAddress;&#10;    private AutoCompleteTextView actvGender;&#10;    private TextInputLayout tilDateOfBirth, tilIssueDate, tilGender;&#10;    private MaterialButton btnNext;&#10;    private Button btnContinue, btnVerify, btnLogin;&#10;    private ImageView ivBack, ivGoogleSignUp, ivFacebookSignUp;&#10;    private TextView tvLoginLink, tvUserEmail, tvResendCode;&#10;    private FrameLayout flFrontImage, flBackImage;&#10;    private ImageView ivFrontImage, ivBackImage;&#10;    private LinearLayout llFrontImagePlaceholder, llBackImagePlaceholder;&#10;    private CheckBox cbCommitment;&#10;    &#10;    // OTP fields&#10;    private EditText etOtp1, etOtp2, etOtp3, etOtp4, etOtp5, etOtp6;&#10;&#10;    private Calendar calendar;&#10;    private SimpleDateFormat dateFormatter;&#10;    private Uri frontImageUri, backImageUri;&#10;    private String userEmail; // Store user email for OTP verification&#10;&#10;    // Activity result launchers for camera and gallery&#10;    private ActivityResultLauncher&lt;Intent&gt; frontCameraLauncher;&#10;    private ActivityResultLauncher&lt;Intent&gt; backCameraLauncher;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.activity_register);&#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(R.id.main), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;&#10;        // Khởi tạo Calendar và định dạng ngày tháng&#10;        calendar = Calendar.getInstance();&#10;        dateFormatter = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault());&#10;&#10;        // Khởi tạo ActivityResultLauncher cho chụp ảnh&#10;        setupImageCaptureLaunchers();&#10;&#10;        initViews();&#10;        setupGenderDropdown();&#10;        setupListeners();&#10;        setupLoginLink();&#10;        setupDatePickers();&#10;        setupImageCapture();&#10;    }&#10;&#10;    private void setupImageCaptureLaunchers() {&#10;        // Launcher cho hình ảnh mặt trước CCCD&#10;        frontCameraLauncher = registerForActivityResult(&#10;            new ActivityResultContracts.StartActivityForResult(),&#10;            result -&gt; {&#10;                if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null) {&#10;                    // Xử lý hình ảnh được chụp&#10;                    Bundle extras = result.getData().getExtras();&#10;                    if (extras != null) {&#10;                        Uri imageUri = (Uri) extras.get(&quot;data&quot;);&#10;                        if (imageUri != null) {&#10;                            frontImageUri = imageUri;&#10;                            ivFrontImage.setImageURI(frontImageUri);&#10;                            ivFrontImage.setVisibility(View.VISIBLE);&#10;                            llFrontImagePlaceholder.setVisibility(View.GONE);&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        );&#10;&#10;        // Launcher cho hình ảnh mặt sau CCCD&#10;        backCameraLauncher = registerForActivityResult(&#10;            new ActivityResultContracts.StartActivityForResult(),&#10;            result -&gt; {&#10;                if (result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null) {&#10;                    // Xử lý hình ảnh được chụp&#10;                    Bundle extras = result.getData().getExtras();&#10;                    if (extras != null) {&#10;                        Uri imageUri = (Uri) extras.get(&quot;data&quot;);&#10;                        if (imageUri != null) {&#10;                            backImageUri = imageUri;&#10;                            ivBackImage.setImageURI(backImageUri);&#10;                            ivBackImage.setVisibility(View.VISIBLE);&#10;                            llBackImagePlaceholder.setVisibility(View.GONE);&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        );&#10;    }&#10;&#10;    private void initViews() {&#10;        viewFlipper = findViewById(R.id.viewFlipper);&#10;&#10;        // Ánh xạ các view từ layout đầu tiên (Thông tin cơ bản)&#10;        etFullName = findViewById(R.id.etFullName);&#10;        etEmail = findViewById(R.id.etEmail);&#10;        etPassword = findViewById(R.id.etPassword);&#10;        etConfirmPassword = findViewById(R.id.etConfirmPassword);&#10;        btnNext = findViewById(R.id.btnNext);&#10;        ivGoogleSignUp = findViewById(R.id.ivGoogleSignUp);&#10;        ivFacebookSignUp = findViewById(R.id.ivFacebookSignUp);&#10;        tvLoginLink = findViewById(R.id.tvLoginLink);&#10;&#10;        // Ánh xạ các view từ layout thứ hai (Thông tin CCCD)&#10;        etCccdNumber = findViewById(R.id.etCccdNumber);&#10;        etIdFullName = findViewById(R.id.etIdFullName);&#10;        etDateOfBirth = findViewById(R.id.etDateOfBirth);&#10;        etIssueDate = findViewById(R.id.etIssueDate);&#10;        etIssuePlace = findViewById(R.id.etIssuePlace);&#10;        tilDateOfBirth = findViewById(R.id.tilDateOfBirth);&#10;        tilIssueDate = findViewById(R.id.tilIssueDate);&#10;&#10;        // Ánh xạ các trường mới được thêm vào&#10;        actvGender = findViewById(R.id.actvGender);&#10;        tilGender = findViewById(R.id.tilGender);&#10;        etNationality = findViewById(R.id.etNationality);&#10;        etPermanentAddress = findViewById(R.id.etPermanentAddress);&#10;&#10;        // Ánh xạ nút &quot;Tiếp tục&quot; trong layout CCCD info&#10;        btnContinue = findViewById(R.id.btnContinue);&#10;&#10;        // Ánh xạ nút quay lại dưới dạng mũi tên&#10;        ivBack = findViewById(R.id.ivBack);&#10;&#10;        // Ánh xạ các view cho hình ảnh&#10;        flFrontImage = findViewById(R.id.flFrontImage);&#10;        flBackImage = findViewById(R.id.flBackImage);&#10;        ivFrontImage = findViewById(R.id.ivFrontImage);&#10;        ivBackImage = findViewById(R.id.ivBackImage);&#10;        llFrontImagePlaceholder = findViewById(R.id.llFrontImagePlaceholder);&#10;        llBackImagePlaceholder = findViewById(R.id.llBackImagePlaceholder);&#10;&#10;        // Ánh xạ checkbox cam kết&#10;        cbCommitment = findViewById(R.id.cbCommitment);&#10;    }&#10;&#10;    private void setupGenderDropdown() {&#10;        // Thiết lập dropdown cho lựa chọn giới tính&#10;        String[] genderOptions = {&quot;Nam&quot;, &quot;Nữ&quot;, &quot;Khác&quot;};&#10;        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(&#10;            this,&#10;            android.R.layout.simple_dropdown_item_1line,&#10;            genderOptions&#10;        );&#10;        if (actvGender != null) {&#10;            actvGender.setAdapter(adapter);&#10;        }&#10;    }&#10;&#10;    private void setupImageCapture() {&#10;        // Thiết lập sự kiện khi nhấn vào khung chụp ảnh&#10;        if (flFrontImage != null) {&#10;            flFrontImage.setOnClickListener(v -&gt; {&#10;                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);&#10;                if (takePictureIntent.resolveActivity(getPackageManager()) != null) {&#10;                    frontCameraLauncher.launch(takePictureIntent);&#10;                } else {&#10;                    Toast.makeText(RegisterActivity.this,&#10;                        &quot;Không tìm thấy ứng dụng máy ảnh&quot;,&#10;                        Toast.LENGTH_SHORT).show();&#10;                }&#10;            });&#10;        }&#10;&#10;        if (flBackImage != null) {&#10;            flBackImage.setOnClickListener(v -&gt; {&#10;                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);&#10;                if (takePictureIntent.resolveActivity(getPackageManager()) != null) {&#10;                    backCameraLauncher.launch(takePictureIntent);&#10;                } else {&#10;                    Toast.makeText(RegisterActivity.this,&#10;                        &quot;Không tìm thấy ứng dụng máy ảnh&quot;,&#10;                        Toast.LENGTH_SHORT).show();&#10;                }&#10;            });&#10;        }&#10;    }&#10;&#10;    private void setupListeners() {&#10;        // Back button (mũi tên quay về)&#10;        ivBack.setOnClickListener(v -&gt; {&#10;            // Quay về màn hình trước đó&#10;            if (viewFlipper.getDisplayedChild() &gt; 0) {&#10;                viewFlipper.showPrevious();&#10;            } else {&#10;                finish(); // Nếu đang ở màn hình đầu tiên, thoát activity&#10;            }&#10;        });&#10;&#10;        // Xử lý sự kiện nút Tiếp Tục ở màn hình thông tin cơ bản&#10;        btnNext.setOnClickListener(v -&gt; {&#10;            if (validateBasicInfo()) {&#10;                // Tự động điền họ tên từ trang 1 sang trang 2&#10;                if (etIdFullName != null &amp;&amp; etFullName != null) {&#10;                    etIdFullName.setText(etFullName.getText().toString().trim());&#10;                }&#10;                viewFlipper.showNext(); // Chuyển sang trang thông tin CCCD&#10;            }&#10;        });&#10;&#10;        // Xử lý sự kiện nút Tiếp Tục ở màn hình thông tin CCCD&#10;        if (btnContinue != null) {&#10;            btnContinue.setOnClickListener(v -&gt; {&#10;                if (validateCccdInfo()) {&#10;                    // Lưu email để hiển thị trên màn hình Check Email&#10;                    userEmail = etEmail.getText().toString().trim();&#10;                    &#10;                    // Chuyển sang màn hình check email&#10;                    viewFlipper.setDisplayedChild(2); // Index 2 is the Check Email layout&#10;                    &#10;                    // Gửi OTP qua email&#10;                    sendOTPToEmail(userEmail);&#10;                    &#10;                    // Cập nhật UI cho màn hình check email sau khi chuyển sang&#10;                    setupCheckEmailScreen();&#10;                }&#10;            });&#10;        }&#10;    }&#10;    &#10;    // Phương thức này được gọi sau khi chuyển sang màn hình Check Email&#10;    private void setupCheckEmailScreen() {&#10;        // Ánh xạ các view trong màn hình check email&#10;        TextView tvTitle = findViewById(R.id.tvTitle);&#10;        TextView tvDescription = findViewById(R.id.tvDescription);&#10;        tvUserEmail = findViewById(R.id.tvUserEmail);&#10;        Button btnEmailContinue = findViewById(R.id.btnContinue);&#10;        &#10;        // Cập nhật nội dung text theo chức năng đăng ký&#10;        if (tvTitle != null) {&#10;            tvTitle.setText(R.string.register_check_email);&#10;        }&#10;        &#10;        if (tvDescription != null) {&#10;            tvDescription.setText(R.string.register_check_email_description);&#10;        }&#10;        &#10;        // Hiển thị email của người dùng&#10;        if (tvUserEmail != null) {&#10;            tvUserEmail.setText(userEmail);&#10;        }&#10;        &#10;        // Quan trọng: thiết lập sự kiện cho nút tiếp tục&#10;        if (btnEmailContinue != null) {&#10;            Log.d(TAG, &quot;Setting up continue button in check email screen&quot;);&#10;            btnEmailContinue.setOnClickListener(new View.OnClickListener() {&#10;                @Override&#10;                public void onClick(View v) {&#10;                    Log.d(TAG, &quot;Check email continue button clicked&quot;);&#10;                    // Chuyển sang màn hình nhập OTP&#10;                    viewFlipper.setDisplayedChild(3);&#10;                    // Thiết lập màn hình OTP&#10;                    setupOtpScreen();&#10;                }&#10;            });&#10;        } else {&#10;            Log.e(TAG, &quot;btnEmailContinue is null&quot;);&#10;        }&#10;    }&#10;    &#10;    // Phương thức này được gọi sau khi chuyển sang màn hình OTP&#10;    private void setupOtpScreen() {&#10;        // Ánh xạ các view trong màn hình OTP&#10;        TextView tvTitle = findViewById(R.id.tvTitle);&#10;        TextView tvDescription = findViewById(R.id.tvDescription);&#10;        etOtp1 = findViewById(R.id.etOtp1);&#10;        etOtp2 = findViewById(R.id.etOtp2);&#10;        etOtp3 = findViewById(R.id.etOtp3);&#10;        etOtp4 = findViewById(R.id.etOtp4);&#10;        etOtp5 = findViewById(R.id.etOtp5);&#10;        etOtp6 = findViewById(R.id.etOtp6);&#10;        tvResendCode = findViewById(R.id.tvResendCode);&#10;        btnVerify = findViewById(R.id.btnVerify);&#10;        &#10;        // Cập nhật nội dung text theo chức năng đăng ký&#10;        if (tvTitle != null) {&#10;            tvTitle.setText(R.string.register_enter_otp);&#10;        }&#10;        &#10;        if (tvDescription != null) {&#10;            tvDescription.setText(R.string.register_otp_description);&#10;        }&#10;        &#10;        // Thiết lập TextWatcher cho các trường OTP&#10;        setupOtpTextWatchers();&#10;        &#10;        // Thiết lập sự kiện cho nút xác nhận OTP&#10;        if (btnVerify != null) {&#10;            btnVerify.setOnClickListener(v -&gt; {&#10;                if (validateOTP()) {&#10;                    // Xác thực OTP thành công, chuyển sang màn hình thành công&#10;                    viewFlipper.setDisplayedChild(4); // Index 4 is the Success layout&#10;                    // Thiết lập màn hình thành công&#10;                    setupSuccessScreen();&#10;                }&#10;            });&#10;        }&#10;        &#10;        // Thiết lập sự kiện cho nút gửi lại mã&#10;        if (tvResendCode != null) {&#10;            tvResendCode.setOnClickListener(v -&gt; {&#10;                sendOTPToEmail(userEmail);&#10;                Toast.makeText(RegisterActivity.this, &quot;Đã gửi lại mã OTP&quot;, Toast.LENGTH_SHORT).show();&#10;            });&#10;        }&#10;    }&#10;    &#10;    // Phương thức này được gọi sau khi chuyển sang màn hình thành công&#10;    private void setupSuccessScreen() {&#10;        // Ánh xạ các view trong màn hình thành công&#10;        TextView tvSuccessTitle = findViewById(R.id.tvSuccessTitle);&#10;        TextView tvSuccessDescription = findViewById(R.id.tvSuccessDescription);&#10;        btnLogin = findViewById(R.id.btnLogin);&#10;        &#10;        // Cập nhật nội dung text theo chức năng đăng ký&#10;        if (tvSuccessTitle != null) {&#10;            tvSuccessTitle.setText(R.string.registration_success);&#10;        }&#10;        &#10;        if (tvSuccessDescription != null) {&#10;            tvSuccessDescription.setText(R.string.registration_success_description);&#10;        }&#10;        &#10;        // Thiết lập sự kiện cho nút đăng nhập&#10;        if (btnLogin != null) {&#10;            btnLogin.setOnClickListener(v -&gt; {&#10;                // Đăng ký tài khoản&#10;                registerAccount();&#10;                &#10;                // Chuyển đến màn hình đăng nhập&#10;                Intent intent = new Intent(RegisterActivity.this, LoginActivity.class);&#10;                startActivity(intent);&#10;                finish();&#10;            });&#10;        }&#10;    }&#10;    &#10;    // Thiết lập TextWatcher cho các trường OTP&#10;    private void setupOtpTextWatchers() {&#10;        if (etOtp1 == null || etOtp2 == null || etOtp3 == null || &#10;            etOtp4 == null || etOtp5 == null || etOtp6 == null) {&#10;            return;&#10;        }&#10;        &#10;        etOtp1.addTextChangedListener(new OTPTextWatcher(etOtp1, etOtp2));&#10;        etOtp2.addTextChangedListener(new OTPTextWatcher(etOtp2, etOtp3));&#10;        etOtp3.addTextChangedListener(new OTPTextWatcher(etOtp3, etOtp4));&#10;        etOtp4.addTextChangedListener(new OTPTextWatcher(etOtp4, etOtp5));&#10;        etOtp5.addTextChangedListener(new OTPTextWatcher(etOtp5, etOtp6));&#10;        etOtp6.addTextChangedListener(new OTPTextWatcher(etOtp6, null));&#10;    }&#10;&#10;    private void setupDatePickers() {&#10;        // Thiết lập DatePicker cho ngày sinh&#10;        if (etDateOfBirth != null) {&#10;            etDateOfBirth.setOnClickListener(v -&gt; showDatePickerDialog(etDateOfBirth));&#10;            tilDateOfBirth.setEndIconOnClickListener(v -&gt; showDatePickerDialog(etDateOfBirth));&#10;        }&#10;&#10;        // Thiết lập DatePicker cho ngày cấp&#10;        if (etIssueDate != null) {&#10;            etIssueDate.setOnClickListener(v -&gt; showDatePickerDialog(etIssueDate));&#10;            tilIssueDate.setEndIconOnClickListener(v -&gt; showDatePickerDialog(etIssueDate));&#10;        }&#10;    }&#10;&#10;    private void showDatePickerDialog(final TextInputEditText editText) {&#10;        Calendar currentCalendar = Calendar.getInstance();&#10;&#10;        DatePickerDialog datePickerDialog = new DatePickerDialog(&#10;                this,&#10;                (view, year, month, dayOfMonth) -&gt; {&#10;                    Calendar selectedCalendar = Calendar.getInstance();&#10;                    selectedCalendar.set(year, month, dayOfMonth);&#10;                    String formattedDate = dateFormatter.format(selectedCalendar.getTime());&#10;                    editText.setText(formattedDate);&#10;                },&#10;                currentCalendar.get(Calendar.YEAR),&#10;                currentCalendar.get(Calendar.MONTH),&#10;                currentCalendar.get(Calendar.DAY_OF_MONTH)&#10;        );&#10;&#10;        // Giới hạn tuổi từ 18-100 cho ngày sinh&#10;        if (editText == etDateOfBirth) {&#10;            Calendar minAge = Calendar.getInstance();&#10;            Calendar maxAge = Calendar.getInstance();&#10;            minAge.add(Calendar.YEAR, -100);  // 100 tuổi&#10;            maxAge.add(Calendar.YEAR, -18);   // 18 tuổi&#10;            datePickerDialog.getDatePicker().setMaxDate(maxAge.getTimeInMillis());&#10;            datePickerDialog.getDatePicker().setMinDate(minAge.getTimeInMillis());&#10;        }&#10;&#10;        // Giới hạn ngày cấp không quá hiện tại&#10;        if (editText == etIssueDate) {&#10;            datePickerDialog.getDatePicker().setMaxDate(System.currentTimeMillis());&#10;        }&#10;&#10;        datePickerDialog.show();&#10;    }&#10;&#10;    private void setupLoginLink() {&#10;        // Make 'Đăng nhập' clickable and colored&#10;        String text = &quot;Đã có tài khoản? Đăng nhập&quot;;&#10;        SpannableString ss = new SpannableString(text);&#10;        int start = text.indexOf(&quot;Đăng nhập&quot;);&#10;        int end = start + &quot;Đăng nhập&quot;.length();&#10;        ss.setSpan(new ClickableSpan() {&#10;            @Override&#10;            public void onClick(View widget) {&#10;                Intent intent = new Intent(RegisterActivity.this, LoginActivity.class);&#10;                startActivity(intent);&#10;                finish();&#10;            }&#10;        }, start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);&#10;        ss.setSpan(new ForegroundColorSpan(getResources().getColor(R.color.colorPrimary)), start, end, Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);&#10;        tvLoginLink.setText(ss);&#10;        tvLoginLink.setMovementMethod(LinkMovementMethod.getInstance());&#10;    }&#10;&#10;    private boolean validateBasicInfo() {&#10;        boolean isValid = true;&#10;&#10;        String fullName = etFullName.getText().toString().trim();&#10;        String email = etEmail.getText().toString().trim();&#10;        String password = etPassword.getText().toString().trim();&#10;        String confirmPassword = etConfirmPassword.getText().toString().trim();&#10;&#10;        // Validate fullName&#10;        if (fullName.isEmpty()) {&#10;            etFullName.setError(&quot;Vui lòng nhập họ tên&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate email&#10;        if (email.isEmpty()) {&#10;            etEmail.setError(&quot;Vui lòng nhập email&quot;);&#10;            isValid = false;&#10;        } else if (!android.util.Patterns.EMAIL_ADDRESS.matcher(email).matches()) {&#10;            etEmail.setError(&quot;Email không hợp lệ&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate password&#10;        if (password.isEmpty()) {&#10;            etPassword.setError(&quot;Vui lòng nhập mật khẩu&quot;);&#10;            isValid = false;&#10;        } else if (password.length() &lt; 6) {&#10;            etPassword.setError(&quot;Mật khẩu phải có ít nhất 6 ký tự&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate confirmPassword&#10;        if (confirmPassword.isEmpty()) {&#10;            etConfirmPassword.setError(&quot;Vui lòng xác nhận mật khẩu&quot;);&#10;            isValid = false;&#10;        } else if (!confirmPassword.equals(password)) {&#10;            etConfirmPassword.setError(&quot;Mật khẩu xác nhận không khớp&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        return isValid;&#10;    }&#10;&#10;    private boolean validateCccdInfo() {&#10;        boolean isValid = true;&#10;&#10;        String cccdNumber = etCccdNumber.getText().toString().trim();&#10;        String idFullName = etIdFullName.getText().toString().trim();&#10;        String dateOfBirth = etDateOfBirth.getText().toString().trim();&#10;        String issueDate = etIssueDate.getText().toString().trim();&#10;        String issuePlace = etIssuePlace.getText().toString().trim();&#10;        String gender = actvGender.getText().toString().trim();&#10;        String nationality = etNationality.getText().toString().trim();&#10;        String permanentAddress = etPermanentAddress.getText().toString().trim();&#10;&#10;        // Validate CCCD number&#10;        if (cccdNumber.isEmpty()) {&#10;            etCccdNumber.setError(&quot;Vui lòng nhập số CCCD/CMND&quot;);&#10;            isValid = false;&#10;        } else if (cccdNumber.length() != 9 &amp;&amp; cccdNumber.length() != 12) {&#10;            etCccdNumber.setError(&quot;Số CCCD phải có 12 chữ số hoặc CMND phải có 9 chữ số&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate ID full name&#10;        if (idFullName.isEmpty()) {&#10;            etIdFullName.setError(&quot;Vui lòng nhập họ tên trên CCCD/CMND&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate date of birth&#10;        if (dateOfBirth.isEmpty()) {&#10;            etDateOfBirth.setError(&quot;Vui lòng chọn ngày sinh&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate gender&#10;        if (gender.isEmpty()) {&#10;            ((TextView)actvGender).setError(&quot;Vui lòng chọn giới tính&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate nationality&#10;        if (nationality.isEmpty()) {&#10;            etNationality.setError(&quot;Vui lòng nhập quốc tịch&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate permanent address&#10;        if (permanentAddress.isEmpty()) {&#10;            etPermanentAddress.setError(&quot;Vui lòng nhập địa chỉ thường trú&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate issue date&#10;        if (issueDate.isEmpty()) {&#10;            etIssueDate.setError(&quot;Vui lòng chọn ngày cấp&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate issue place&#10;        if (issuePlace.isEmpty()) {&#10;            etIssuePlace.setError(&quot;Vui lòng nhập nơi cấp&quot;);&#10;            isValid = false;&#10;        }&#10;&#10;        // Validate ID images - ĐÃ TẮT CHO MỤC ĐÍCH PHÁT TRIỂN&#10;        /*&#10;        if (frontImageUri == null) {&#10;            Toast.makeText(this, &quot;Vui lòng chụp ảnh mặt trước CCCD/CMND&quot;, Toast.LENGTH_SHORT).show();&#10;            isValid = false;&#10;        }&#10;&#10;        if (backImageUri == null) {&#10;            Toast.makeText(this, &quot;Vui lòng chụp ảnh mặt sau CCCD/CMND&quot;, Toast.LENGTH_SHORT).show();&#10;            isValid = false;&#10;        }&#10;        */&#10;&#10;        // Validate commitment checkbox&#10;        if (cbCommitment != null &amp;&amp; !cbCommitment.isChecked()) {&#10;            Toast.makeText(this, &quot;Vui lòng xác nhận cam kết về tính chính xác của thông tin&quot;, Toast.LENGTH_SHORT).show();&#10;            isValid = false;&#10;        }&#10;&#10;        return isValid;&#10;    }&#10;    &#10;    private boolean validateOTP() {&#10;        // Check if all OTP fields are filled&#10;        if (etOtp1 == null || etOtp2 == null || etOtp3 == null || &#10;            etOtp4 == null || etOtp5 == null || etOtp6 == null) {&#10;            return false;&#10;        }&#10;        &#10;        String otp1 = etOtp1.getText().toString();&#10;        String otp2 = etOtp2.getText().toString();&#10;        String otp3 = etOtp3.getText().toString();&#10;        String otp4 = etOtp4.getText().toString();&#10;        String otp5 = etOtp5.getText().toString();&#10;        String otp6 = etOtp6.getText().toString();&#10;        &#10;        if (otp1.isEmpty() || otp2.isEmpty() || otp3.isEmpty() || &#10;            otp4.isEmpty() || otp5.isEmpty() || otp6.isEmpty()) {&#10;            Toast.makeText(this, &quot;Vui lòng nhập đầy đủ mã OTP&quot;, Toast.LENGTH_SHORT).show();&#10;            return false;&#10;        }&#10;        &#10;        // For demo purposes, any 6-digit code is valid&#10;        // In a real application, you would verify the OTP against a backend service&#10;        return true;&#10;    }&#10;    &#10;    private void sendOTPToEmail(String email) {&#10;        // This is a placeholder for the actual OTP sending functionality&#10;        // In a real application, this would call an API to send the OTP to the user's email&#10;        Toast.makeText(this, &quot;Đã gửi mã OTP đến email: &quot; + email, Toast.LENGTH_SHORT).show();&#10;    }&#10;&#10;    private void registerAccount() {&#10;        String fullName = etFullName.getText().toString().trim();&#10;        String email = etEmail.getText().toString().trim();&#10;        String password = etPassword.getText().toString().trim();&#10;        String cccdNumber = etCccdNumber.getText().toString().trim();&#10;        String idFullName = etIdFullName.getText().toString().trim();&#10;        String dateOfBirth = etDateOfBirth.getText().toString().trim();&#10;        String issueDate = etIssueDate.getText().toString().trim();&#10;        String issuePlace = etIssuePlace.getText().toString().trim();&#10;        String gender = actvGender.getText().toString().trim();&#10;        String nationality = etNationality.getText().toString().trim();&#10;        String permanentAddress = etPermanentAddress.getText().toString().trim();&#10;&#10;        // TODO: Gửi thông tin đăng ký đến API hoặc lưu vào cơ sở dữ liệu cục bộ&#10;&#10;        // Log để debug&#10;        String registrationInfo = &quot;Họ tên: &quot; + fullName + &quot;\n&quot; +&#10;                                 &quot;Email: &quot; + email + &quot;\n&quot; +&#10;                                 &quot;Số CCCD: &quot; + cccdNumber + &quot;\n&quot; +&#10;                                 &quot;Tên trên CCCD: &quot; + idFullName + &quot;\n&quot; +&#10;                                 &quot;Ngày sinh: &quot; + dateOfBirth + &quot;\n&quot; +&#10;                                 &quot;Giới tính: &quot; + gender + &quot;\n&quot; +&#10;                                 &quot;Quốc tịch: &quot; + nationality + &quot;\n&quot; +&#10;                                 &quot;Địa chỉ thường trú: &quot; + permanentAddress + &quot;\n&quot; +&#10;                                 &quot;Ngày cấp: &quot; + issueDate + &quot;\n&quot; +&#10;                                 &quot;Nơi cấp: &quot; + issuePlace;&#10;&#10;        // In thông tin ra Logcat để kiểm tra&#10;        Log.d(TAG, &quot;Registered account: &quot; + registrationInfo);&#10;    }&#10;    &#10;    // Inner class for OTP text change handling&#10;    private class OTPTextWatcher implements TextWatcher {&#10;        private EditText currentEditText;&#10;        private EditText nextEditText;&#10;        &#10;        public OTPTextWatcher(EditText currentEditText, EditText nextEditText) {&#10;            this.currentEditText = currentEditText;&#10;            this.nextEditText = nextEditText;&#10;        }&#10;        &#10;        @Override&#10;        public void beforeTextChanged(CharSequence s, int start, int count, int after) {&#10;        }&#10;        &#10;        @Override&#10;        public void onTextChanged(CharSequence s, int start, int before, int count) {&#10;        }&#10;        &#10;        @Override&#10;        public void afterTextChanged(Editable s) {&#10;            if (s.length() == 1 &amp;&amp; nextEditText != null) {&#10;                nextEditText.requestFocus();&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/activity/SigninActivity.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/activity/SigninActivity.java" />
              <option name="updatedContent" value="package com.parkmate.android.activity;&#10;&#10;import android.content.Intent;&#10;import android.os.Bundle;&#10;import android.view.View;&#10;import android.widget.CheckBox;&#10;import android.widget.TextView;&#10;import android.widget.Toast;&#10;&#10;import androidx.activity.EdgeToEdge;&#10;import androidx.appcompat.app.AppCompatActivity;&#10;import androidx.core.graphics.Insets;&#10;import androidx.core.view.ViewCompat;&#10;import androidx.core.view.WindowInsetsCompat;&#10;&#10;import com.google.android.material.button.MaterialButton;&#10;import com.google.android.material.textfield.TextInputEditText;&#10;import com.parkmate.android.R;&#10;&#10;public class SigninActivity extends AppCompatActivity {&#10;    &#10;    private TextInputEditText etEmail, etPassword;&#10;    private CheckBox cbRememberMe;&#10;    private MaterialButton btnLogin;&#10;    private TextView tvRegisterLink, tvForgotPassword;&#10;&#10;    @Override&#10;    protected void onCreate(Bundle savedInstanceState) {&#10;        super.onCreate(savedInstanceState);&#10;        EdgeToEdge.enable(this);&#10;        setContentView(R.layout.layout_login);&#10;        &#10;        // Initialize views&#10;        initViews();&#10;        &#10;        // Setup click listeners&#10;        setupClickListeners();&#10;        &#10;        ViewCompat.setOnApplyWindowInsetsListener(findViewById(android.R.id.content), (v, insets) -&gt; {&#10;            Insets systemBars = insets.getInsets(WindowInsetsCompat.Type.systemBars());&#10;            v.setPadding(systemBars.left, systemBars.top, systemBars.right, systemBars.bottom);&#10;            return insets;&#10;        });&#10;    }&#10;    &#10;    private void initViews() {&#10;        etEmail = findViewById(R.id.etEmail);&#10;        etPassword = findViewById(R.id.etPassword);&#10;        cbRememberMe = findViewById(R.id.cbRememberMe);&#10;        btnLogin = findViewById(R.id.btnLogin);&#10;        tvRegisterLink = findViewById(R.id.tvRegisterLink);&#10;        tvForgotPassword = findViewById(R.id.tvForgotPassword);&#10;    }&#10;    &#10;    private void setupClickListeners() {&#10;        // Register link click listener&#10;        tvRegisterLink.setOnClickListener(new View.OnClickListener() {&#10;            @Override&#10;            public void onClick(View v) {&#10;                // Navigate to register screen&#10;                Intent intent = new Intent(SigninActivity.this, RegisterActivity.class);&#10;                startActivity(intent);&#10;            }&#10;        });&#10;        &#10;        // Login button click listener&#10;        btnLogin.setOnClickListener(new View.OnClickListener() {&#10;            @Override&#10;            public void onClick(View v) {&#10;                // Implement login logic here&#10;                String email = etEmail.getText().toString().trim();&#10;                String password = etPassword.getText().toString().trim();&#10;                boolean rememberMe = cbRememberMe.isChecked();&#10;                &#10;                if (validateInput(email, password)) {&#10;                    performLogin(email, password, rememberMe);&#10;                }&#10;            }&#10;        });&#10;        &#10;        // Forgot password click listener&#10;        tvForgotPassword.setOnClickListener(new View.OnClickListener() {&#10;            @Override&#10;            public void onClick(View v) {&#10;                // Implement forgot password logic here&#10;                Toast.makeText(SigninActivity.this, &quot;Chức năng đặt lại mật khẩu sẽ được triển khai sau&quot;, Toast.LENGTH_SHORT).show();&#10;            }&#10;        });&#10;    }&#10;    &#10;    private boolean validateInput(String email, String password) {&#10;        boolean isValid = true;&#10;        &#10;        if (email.isEmpty()) {&#10;            etEmail.setError(&quot;Vui lòng nhập email&quot;);&#10;            isValid = false;&#10;        }&#10;        &#10;        if (password.isEmpty()) {&#10;            etPassword.setError(&quot;Vui lòng nhập mật khẩu&quot;);&#10;            isValid = false;&#10;        }&#10;        &#10;        return isValid;&#10;    }&#10;    &#10;    private void performLogin(String email, String password, boolean rememberMe) {&#10;        // TODO: Implement actual login logic with your API or Firebase&#10;        // This is just a placeholder&#10;        Toast.makeText(this, &quot;Đang đăng nhập...&quot;, Toast.LENGTH_SHORT).show();&#10;        &#10;        // If remember me is checked, save credentials to SharedPreferences&#10;        if (rememberMe) {&#10;            // TODO: Save login credentials or token securely&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/ui/vehicle/VehicleSelectionAdapter.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/parkmate/android/ui/vehicle/VehicleSelectionAdapter.java" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="package com.parkmate.android.ui.vehicle;&#10;&#10;import android.view.LayoutInflater;&#10;import android.view.View;&#10;import android.view.ViewGroup;&#10;import android.widget.RadioButton;&#10;import android.widget.TextView;&#10;import androidx.annotation.NonNull;&#10;import androidx.recyclerview.widget.RecyclerView;&#10;import com.parkmate.android.R;&#10;import com.parkmate.android.model.Vehicle;&#10;import java.util.ArrayList;&#10;import java.util.List;&#10;&#10;/**&#10; * Adapter mới riêng cho việc chọn xe khi đặt chỗ&#10; * Check 2 điều kiện disable:&#10; * 1. hasSubscriptionInThisParkingLot = true&#10; * 2. inReservation = true&#10; * Chỉ cần 1 trong 2 là true thì sẽ disable xe đó&#10; */&#10;public class VehicleSelectionAdapter extends RecyclerView.Adapter&lt;VehicleSelectionAdapter.VehicleViewHolder&gt; {&#10;&#10;    private List&lt;Vehicle&gt; vehicleList = new ArrayList&lt;&gt;();&#10;    private int selectedPosition = -1;&#10;    private OnVehicleSelectedListener listener;&#10;&#10;    public interface OnVehicleSelectedListener {&#10;        void onVehicleSelected(Vehicle vehicle, int position);&#10;    }&#10;&#10;    public VehicleSelectionAdapter(OnVehicleSelectedListener listener) {&#10;        this.listener = listener;&#10;    }&#10;&#10;    public void updateVehicles(List&lt;Vehicle&gt; vehicles) {&#10;        this.vehicleList.clear();&#10;        if (vehicles != null) {&#10;            this.vehicleList.addAll(vehicles);&#10;        }&#10;        this.selectedPosition = -1;&#10;        notifyDataSetChanged();&#10;    }&#10;&#10;    public Vehicle getSelectedVehicle() {&#10;        if (selectedPosition &gt;= 0 &amp;&amp; selectedPosition &lt; vehicleList.size()) {&#10;            return vehicleList.get(selectedPosition);&#10;        }&#10;        return null;&#10;    }&#10;&#10;    @NonNull&#10;    @Override&#10;    public VehicleViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {&#10;        View view = LayoutInflater.from(parent.getContext())&#10;                .inflate(R.layout.item_vehicle_selection, parent, false);&#10;        return new VehicleViewHolder(view);&#10;    }&#10;&#10;    @Override&#10;    public void onBindViewHolder(@NonNull VehicleViewHolder holder, int position) {&#10;        Vehicle vehicle = vehicleList.get(position);&#10;        holder.bind(vehicle, position);&#10;    }&#10;&#10;    @Override&#10;    public int getItemCount() {&#10;        return vehicleList.size();&#10;    }&#10;&#10;    class VehicleViewHolder extends RecyclerView.ViewHolder {&#10;        private RadioButton rbSelectVehicle;&#10;        private TextView tvVehiclePlate;&#10;        private TextView tvVehicleDesc;&#10;        private TextView tvVehicleStatus;&#10;&#10;        public VehicleViewHolder(@NonNull View itemView) {&#10;            super(itemView);&#10;            rbSelectVehicle = itemView.findViewById(R.id.rbSelectVehicle);&#10;            tvVehiclePlate = itemView.findViewById(R.id.tvVehiclePlate);&#10;            tvVehicleDesc = itemView.findViewById(R.id.tvVehicleDesc);&#10;            tvVehicleStatus = itemView.findViewById(R.id.tvVehicleStatus);&#10;        }&#10;&#10;        public void bind(Vehicle vehicle, int position) {&#10;            // Check nếu xe bị disable (1 trong 2 điều kiện = true)&#10;            boolean isDisabled = vehicle.isHasSubscriptionInThisParkingLot() || vehicle.isInReservation();&#10;&#10;            // Hiển thị thông tin xe&#10;            tvVehiclePlate.setText(vehicle.getLicensePlate() != null ? vehicle.getLicensePlate() : &quot;N/A&quot;);&#10;&#10;            String desc = &quot;&quot;;&#10;            if (vehicle.getBrand() != null &amp;&amp; !vehicle.getBrand().isEmpty()) {&#10;                desc = vehicle.getBrand();&#10;            }&#10;            if (vehicle.getModel() != null &amp;&amp; !vehicle.getModel().isEmpty()) {&#10;                desc += (desc.isEmpty() ? &quot;&quot; : &quot; - &quot;) + vehicle.getModel();&#10;            }&#10;            if (desc.isEmpty()) {&#10;                desc = vehicle.getVehicleType() != null ? vehicle.getVehicleType() : &quot;Xe&quot;;&#10;            }&#10;            tvVehicleDesc.setText(desc);&#10;&#10;            // Hiển thị trạng thái disable&#10;            if (isDisabled) {&#10;                tvVehicleStatus.setVisibility(View.VISIBLE);&#10;                if (vehicle.isHasSubscriptionInThisParkingLot()) {&#10;                    tvVehicleStatus.setText(R.string.vehicle_selection_has_subscription);&#10;                } else if (vehicle.isInReservation()) {&#10;                    tvVehicleStatus.setText(R.string.vehicle_selection_in_reservation);&#10;                }&#10;            } else {&#10;                tvVehicleStatus.setVisibility(View.GONE);&#10;            }&#10;&#10;            // Set trạng thái radio button&#10;            rbSelectVehicle.setChecked(position == selectedPosition);&#10;            rbSelectVehicle.setEnabled(!isDisabled);&#10;&#10;            // Set alpha cho item bị disable&#10;            itemView.setAlpha(isDisabled ? 0.5f : 1.0f);&#10;&#10;            // Handle click&#10;            if (!isDisabled) {&#10;                itemView.setOnClickListener(v -&gt; {&#10;                    int oldPosition = selectedPosition;&#10;                    selectedPosition = getAdapterPosition();&#10;&#10;                    // Notify changes&#10;                    if (oldPosition &gt;= 0) {&#10;                        notifyItemChanged(oldPosition);&#10;                    }&#10;                    notifyItemChanged(selectedPosition);&#10;&#10;                    // Callback&#10;                    if (listener != null) {&#10;                        listener.onVehicleSelected(vehicle, selectedPosition);&#10;                    }&#10;                });&#10;&#10;                rbSelectVehicle.setOnClickListener(v -&gt; itemView.performClick());&#10;            } else {&#10;                itemView.setOnClickListener(null);&#10;                rbSelectVehicle.setOnClickListener(null);&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/bg_image_indicator.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/bg_image_indicator.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:shape=&quot;oval&quot;&gt;&#10;    &lt;solid android:color=&quot;#80FFFFFF&quot; /&gt;&#10;    &lt;size android:width=&quot;6dp&quot; android:height=&quot;6dp&quot; /&gt;&#10;&lt;/shape&gt;&#10;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:shape=&quot;oval&quot;&gt;&#10;    &lt;solid android:color=&quot;#BDBDBD&quot; /&gt;&#10;    &lt;size android:width=&quot;6dp&quot; android:height=&quot;6dp&quot; /&gt;&#10;&lt;/shape&gt;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/bg_image_indicator_selected.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/bg_image_indicator_selected.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:shape=&quot;oval&quot;&gt;&#10;    &lt;solid android:color=&quot;#FFFFFF&quot; /&gt;&#10;    &lt;size android:width=&quot;6dp&quot; android:height=&quot;6dp&quot; /&gt;&#10;&lt;/shape&gt;&#10;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:shape=&quot;oval&quot;&gt;&#10;    &lt;solid android:color=&quot;#424242&quot; /&gt;&#10;    &lt;size android:width=&quot;6dp&quot; android:height=&quot;6dp&quot; /&gt;&#10;&lt;/shape&gt;&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/drawable/ic_local_parking.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/drawable/ic_local_parking.xml" />
              <option name="updatedContent" value="&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    android:width=&quot;24dp&quot;&#10;    android:height=&quot;24dp&quot;&#10;    android:viewportWidth=&quot;24&quot;&#10;    android:viewportHeight=&quot;24&quot;&gt;&#10;    &lt;path&#10;        android:fillColor=&quot;#FF000000&quot;&#10;        android:pathData=&quot;M13,3L6,3c-1.1,0 -2,0.9 -2,2v14c0,1.1 0.89,2 2,2h12c1.1,0 2,-0.9 2,-2L20,9l-7,-6zM15,15h-4v2h4v-2zM15,11h-4v2h4v-2zM13,9L13,3.5L18.5,9L13,9z&quot;/&gt;&#10;&lt;/vector&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/activity_parking.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/activity_parking.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvParkingPlaceholder&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Màn hình Bãi đỗ xe&quot;&#10;        android:textSize=&quot;18sp&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;&#10;&#10;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/component_layer_3598897.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/component_layer_3598897.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;merge xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;&#10;    &lt;!-- This component represents the &quot;3598897 1&quot; layer from Zeplin. Replace ic_launcher_foreground with your actual asset if needed. --&gt;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/layer3598897&quot;&#10;        android:layout_width=&quot;120dp&quot;&#10;        android:layout_height=&quot;120dp&quot;&#10;        android:src=&quot;@drawable/ic_launcher_foreground&quot;&#10;        android:contentDescription=&quot;@string/splash_logo_desc&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot;&#10;        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;&#10;        app:layout_constraintRight_toRightOf=&quot;parent&quot;&#10;        /&gt;&#10;&lt;/merge&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/layout/layout_register_id_card.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/layout/layout_register_id_card.xml" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&#10;    android:layout_width=&quot;match_parent&quot;&#10;    android:layout_height=&quot;match_parent&quot;&gt;&#10;&#10;    &lt;!-- ID Card Information Title --&gt;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvIdCardTitle&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginTop=&quot;48dp&quot;&#10;        android:text=&quot;Thông tin CCCD&quot;&#10;        android:textColor=&quot;#222B45&quot;&#10;        android:textSize=&quot;28sp&quot;&#10;        android:textStyle=&quot;bold&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;&#10;&#10;    &lt;!-- ID Card Number Field --&gt;&#10;    &lt;com.google.android.material.textfield.TextInputLayout&#10;        android:id=&quot;@+id/tilIdCardNumber&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/tvIdCardTitle&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        android:layout_marginTop=&quot;32dp&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;32dp&quot;&gt;&#10;&#10;        &lt;com.google.android.material.textfield.TextInputEditText&#10;            android:id=&quot;@+id/etIdCardNumber&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:hint=&quot;Số CCCD&quot;&#10;            android:inputType=&quot;number&quot;&#10;            android:maxLength=&quot;12&quot; /&gt;&#10;    &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;    &lt;!-- Issue Date Field --&gt;&#10;    &lt;com.google.android.material.textfield.TextInputLayout&#10;        android:id=&quot;@+id/tilIssueDate&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/tilIdCardNumber&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;32dp&quot;&gt;&#10;        &lt;com.google.android.material.textfield.TextInputEditText&#10;            android:id=&quot;@+id/etIssueDate&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:hint=&quot;Ngày cấp&quot;&#10;            android:inputType=&quot;date&quot;&#10;            android:focusable=&quot;false&quot;&#10;            android:clickable=&quot;true&quot;/&gt;&#10;    &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;    &lt;!-- Issue Place Field --&gt;&#10;    &lt;com.google.android.material.textfield.TextInputLayout&#10;        android:id=&quot;@+id/tilIssuePlace&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/tilIssueDate&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;32dp&quot;&gt;&#10;        &lt;com.google.android.material.textfield.TextInputEditText&#10;            android:id=&quot;@+id/etIssuePlace&quot;&#10;            android:layout_width=&quot;match_parent&quot;&#10;            android:layout_height=&quot;wrap_content&quot;&#10;            android:hint=&quot;Nơi cấp&quot;/&gt;&#10;    &lt;/com.google.android.material.textfield.TextInputLayout&gt;&#10;&#10;    &lt;!-- Front ID Card Image Upload --&gt;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvFrontIdCardLabel&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Ảnh mặt trước CCCD&quot;&#10;        android:textSize=&quot;16sp&quot;&#10;        android:textColor=&quot;#222B45&quot;&#10;        android:layout_marginTop=&quot;24dp&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/tilIssuePlace&quot; /&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/ivFrontIdCard&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;120dp&quot;&#10;        android:layout_marginTop=&quot;8dp&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;32dp&quot;&#10;        android:background=&quot;#F7F9FC&quot;&#10;        android:scaleType=&quot;centerInside&quot;&#10;        android:src=&quot;@android:drawable/ic_menu_camera&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/tvFrontIdCardLabel&quot; /&gt;&#10;&#10;    &lt;!-- Back ID Card Image Upload --&gt;&#10;    &lt;TextView&#10;        android:id=&quot;@+id/tvBackIdCardLabel&quot;&#10;        android:layout_width=&quot;wrap_content&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:text=&quot;Ảnh mặt sau CCCD&quot;&#10;        android:textSize=&quot;16sp&quot;&#10;        android:textColor=&quot;#222B45&quot;&#10;        android:layout_marginTop=&quot;16dp&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/ivFrontIdCard&quot; /&gt;&#10;&#10;    &lt;ImageView&#10;        android:id=&quot;@+id/ivBackIdCard&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;120dp&quot;&#10;        android:layout_marginTop=&quot;8dp&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;32dp&quot;&#10;        android:background=&quot;#F7F9FC&quot;&#10;        android:scaleType=&quot;centerInside&quot;&#10;        android:src=&quot;@android:drawable/ic_menu_camera&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/tvBackIdCardLabel&quot; /&gt;&#10;&#10;    &lt;!-- Next Button --&gt;&#10;    &lt;com.google.android.material.button.MaterialButton&#10;        android:id=&quot;@+id/btnSubmitIdCard&quot;&#10;        android:layout_width=&quot;0dp&quot;&#10;        android:layout_height=&quot;wrap_content&quot;&#10;        android:layout_marginStart=&quot;32dp&quot;&#10;        android:layout_marginTop=&quot;32dp&quot;&#10;        android:layout_marginEnd=&quot;32dp&quot;&#10;        android:backgroundTint=&quot;#1947ff&quot;&#10;        android:text=&quot;Tiếp Tục&quot;&#10;        android:textColor=&quot;#FFFFFF&quot;&#10;        android:textSize=&quot;18sp&quot;&#10;        app:cornerRadius=&quot;24dp&quot;&#10;        app:layout_constraintEnd_toEndOf=&quot;parent&quot;&#10;        app:layout_constraintStart_toStartOf=&quot;parent&quot;&#10;        app:layout_constraintTop_toBottomOf=&quot;@id/ivBackIdCard&quot; /&gt;&#10;&#10;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/values/themes.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/values/themes.xml" />
              <option name="originalContent" value="&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;    &lt;!-- Base application theme. --&gt;&#10;    &lt;style name=&quot;Base.Theme.CapstoneProject_ParkMate&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;&#10;        &lt;!-- Enable edge-to-edge display --&gt;&#10;        &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:targetApi=&quot;p&quot;&gt;shortEdges&lt;/item&gt;&#10;        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/white&lt;/item&gt;&#10;        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/white&lt;/item&gt;&#10;        &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;&#10;        &lt;item name=&quot;android:windowLightNavigationBar&quot; tools:targetApi=&quot;o_mr1&quot;&gt;true&lt;/item&gt;&#10;        &lt;item name=&quot;android:enforceNavigationBarContrast&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;&#10;&#10;        &lt;!-- RadioButton colors --&gt;&#10;        &lt;item name=&quot;colorControlActivated&quot;&gt;@color/primary&lt;/item&gt;&#10;    &lt;/style&gt;&#10;&#10;    &lt;style name=&quot;Theme.CapstoneProject_ParkMate&quot; parent=&quot;Base.Theme.CapstoneProject_ParkMate&quot; /&gt;&#10;&lt;/resources&gt;" />
              <option name="updatedContent" value="&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;    &lt;!-- Base application theme. --&gt;&#10;    &lt;style name=&quot;Base.Theme.CapstoneProject_ParkMate&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;&#10;        &lt;!-- Enable edge-to-edge display --&gt;&#10;        &lt;item name=&quot;android:windowLayoutInDisplayCutoutMode&quot; tools:targetApi=&quot;p&quot;&gt;shortEdges&lt;/item&gt;&#10;        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/white&lt;/item&gt;&#10;        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@color/white&lt;/item&gt;&#10;        &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;&#10;        &lt;item name=&quot;android:windowLightNavigationBar&quot; tools:targetApi=&quot;o_mr1&quot;&gt;true&lt;/item&gt;&#10;        &lt;item name=&quot;android:enforceNavigationBarContrast&quot; tools:targetApi=&quot;q&quot;&gt;false&lt;/item&gt;&#10;&#10;        &lt;!-- RadioButton colors --&gt;&#10;        &lt;item name=&quot;colorControlActivated&quot;&gt;@color/primary&lt;/item&gt;&#10;    &lt;/style&gt;&#10;&#10;    &lt;style name=&quot;Theme.CapstoneProject_ParkMate&quot; parent=&quot;Base.Theme.CapstoneProject_ParkMate&quot; /&gt;&#10;&lt;/resources&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>